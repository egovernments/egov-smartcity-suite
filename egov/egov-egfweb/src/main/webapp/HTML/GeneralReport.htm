#-------------------------------------------------------------------------------
# eGov suite of products aim to improve the internal efficiency,transparency, 
#      accountability and the service delivery of the government  organizations.
#   
#       Copyright (C) <2015>  eGovernments Foundation
#   
#       The updated version of eGov suite of products as by eGovernments Foundation 
#       is available at http://www.egovernments.org
#   
#       This program is free software: you can redistribute it and/or modify
#       it under the terms of the GNU General Public License as published by
#       the Free Software Foundation, either version 3 of the License, or
#       any later version.
#   
#       This program is distributed in the hope that it will be useful,
#       but WITHOUT ANY WARRANTY; without even the implied warranty of
#       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#       GNU General Public License for more details.
#   
#       You should have received a copy of the GNU General Public License
#       along with this program. If not, see http://www.gnu.org/licenses/ or 
#       http://www.gnu.org/licenses/gpl.html .
#   
#       In addition to the terms of the GPL license to be adhered to in using this
#       program, the following additional terms are to be complied with:
#   
#   	1) All versions of this program, verbatim or modified must carry this 
#   	   Legal Notice.
#   
#   	2) Any misrepresentation of the origin of the material is prohibited. It 
#   	   is required that all modified versions of this material be marked in 
#   	   reasonable ways as different from the original version.
#   
#   	3) This license does not grant any rights to any user of the program 
#   	   with regards to rights under trademark law for use of the trade names 
#   	   or trademarks of eGovernments Foundation.
#   
#     In case of any queries, you can reach eGovernments Foundation at contact@egovernments.org.
#-------------------------------------------------------------------------------
<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta http-equiv="KEYWORDS" content="">
<meta http-equiv="DESCRIPTION" content="">
<!-- Inclusion of the CSS files that contains the styles -->
<link rel=stylesheet href="../exility/global.css" type="text/css">
<SCRIPT LANGUAGE="javascript" SRC="../exility/PageManager.js"></SCRIPT>
<SCRIPT LANGUAGE="javascript" SRC="../exility/ExilityParameters.js"></SCRIPT>
<SCRIPT LANGUAGE="javascript" SRC="../exility/PageValidator.js"></SCRIPT>
<script language="javascript" src="../script/jsCommonMethods.js"></script>

<SCRIPT LANGUAGE="javascript">
var flag='0', tbNames, tbIds,snapShotDateTime;
var rptType;
var rptTitle='', rptStartDate='', rptEndDate='', rptGLCode='', rptAccName='', detail='',start='',end='',fund='';
//onLoad
var glcd='';
var glcd1='';
function onBodyLoad(){
	rptType = PageManager.DataService.getQueryField('reportType');
	glcd = PageManager.DataService.getQueryField('glc');
	if(glcd)
	{
		 fund=PageManager.DataService.getQueryField('fuid');
		start=PageManager.DataService.getQueryField('startdate');
		end=PageManager.DataService.getQueryField('enddate');
		snapShotDateTime=PageManager.DataService.getQueryField('snapDT');
		PageManager.DataService.setQueryField('glcode',glcd);
		var tr12 = document.getElementById('mainTable').rows[12];
		tr12.style.display="none";
		document.getElementById('backbutton').style.display="block";
		PageManager.DataService.callDataService('getCodeRange');
		//var tr1 = document.getElementById('buttons').rows[0];
		//tr1.style.display="block";
	

	}
	tbGlCode = PageManager.DataService.getQueryField('tbGlCode');
	if(tbGlCode)
	{		
			fund=PageManager.DataService.getQueryField('fuid');
			start=PageManager.DataService.getQueryField('startdate');
			end=PageManager.DataService.getQueryField('enddate');
			snapShotTime=PageManager.DataService.getQueryField('snapShotDateTime');
			var tr12 = document.getElementById('mainTable').rows[12];
			tr12.style.display="none";
			document.getElementById('backbutton').style.display='block';
			document.getElementById('screenName').innerHTML="Books of Accounts - General Ledger Report";
			PageManager.DataService.setQueryField('rptType',rptType);
			PageManager.DataService.setQueryField('glCode1',tbGlCode );
			PageManager.DataService.setQueryField('glCode2',tbGlCode);
			PageManager.DataService.setQueryField('startDate',start);
			PageManager.DataService.setQueryField('endDate',formatDate7(end));
			PageManager.DataService.setQueryField('fund_id',fund);
			PageManager.DataService.setQueryField('snapShotDateTime',snapShotTime);
			PageManager.DataService.callDataService('rptGeneralLedgerReport');


	}
	if (!glcd && !tbGlCode)
	{
	document.getElementById('backbutton').style.display="block";
	PageManager.ListService.callListService();
	PageValidator.addCalendars();
	var rptObj = document.getElementById('reportType');
	rptObj.value = rptType;

	switch (rptType) {
		case "jb":document.getElementById('screenName').innerHTML="Books of Accounts - Journal Book";break;
		case "bb":document.getElementById('screenName').innerHTML="Books of Accounts - Bank Book";break;
		case "cb":document.getElementById('screenName').innerHTML="Books of Accounts - Cash Book";break;
		case "gl":document.getElementById('screenName').innerHTML="Books of Accounts - General Ledger Report";break;
		case "bv":document.getElementById('screenName').innerHTML="Books of Accounts - Budget Variance";break;
		case "tb":document.getElementById('screenName').innerHTML="Books of Accounts - Trial Balance Report";break;
		case "sl":document.getElementById('screenName').innerHTML="Books of Accounts - Subledger Report";break;
	}


	changeRptType();
   }
}

function drilldown()
{
		document.getElementById('screenName').innerHTML="Books of Accounts - General Ledger Report";
		PageManager.DataService.setQueryField('rptType',rptType);
		PageManager.DataService.setQueryField('glCode1',glcd );
		PageManager.DataService.setQueryField('glCode2',document.getElementById('toGlcode').value);
		PageManager.DataService.setQueryField('startDate',start);
		PageManager.DataService.setQueryField('endDate',end);
		PageManager.DataService.setQueryField('fund_id',fund);
		PageManager.DataService.callDataService('rptGeneralLedgerReport');
}


function ButtonPress(){

	var financialyear = document.getElementById('financialYear_id');
	var strtDate = document.getElementById('startDate').value;
	rptStartDate = strtDate;
	var endDate = document.getElementById('EndDate').value;
	rptEndDate = endDate;

	//if( compareDate(formatDateToDDMMYYYY(strtDate),formatDateToDDMMYYYY(endDate)) == -1 ){
	if( compareDate(formatDate6(strtDate),formatDate6(endDate)) == -1 ){
		alert('Start Date can not be greater than End Date');
		document.getElementById('startDate').focus();
		return false;
	}
	var aCode1 = document.getElementById('accCode1').value;
	var aCode2 = document.getElementById('accCode2').value;
	var asDate = document.getElementById('asOnDate').value;
	switch (rptType) {
		case "jb": break;
		case "cb":
		case "gl":if(aCode1.length==0){
					alert("please select  Account Code");
					return;
				 }
				 if(aCode2.length==0){
				 					alert("please select  Account Code");
				 					return;
				 }
				 if(strtDate.length==0||endDate.length==0){
					alert("please select start dates and end dates");
					return;
				 }
				 break;
		case "bv":if(financialyear.selectedIndex==0){
					alert("please select Financial Year");
					return;
				 }
				 break;
		case "tb":if(asDate.length==0){
					alert("please select Date");
					return;
				 }
				 break;
		case "sl":	if(strtDate.length==0||endDate.length==0){
						alert("please select start dates and end dates");
						return;
					}
					if(accEntity.selectedIndex<0){
						alert('please select Accounting Entity');
						return;
					}
				 break;

		default:return;
	}

	if (!PageValidator.validateForm())
		return;
		PageManager.DataService.setQueryField('condition',2);
	/* if report is to be shown in HTML pages*/
	if(rptType == "gl" || rptType == "sl" || rptType == "bb" || rptType == "cb"){
	//if(rptType == "bb" || rptType == "cb"){
		//tb = ["NA", "Bank Account", "Ward", "Fund", "Department", "Region", "Region", "Financial Year", "Assets", "Relation", "Works Detail", "Bill Collector", "Month"]	;
		PageManager.DataService.setQueryField('rptType',rptType);
		PageManager.DataService.setQueryField('glCode1', document.getElementById('accCode1').value);
		PageManager.DataService.setQueryField('glCode2', document.getElementById('accCode2').value);


		var stdate=document.getElementById('startDate').value;
		var edate=document.getElementById('EndDate').value;
		
		//PageManager.DataService.setQueryField('startDate', document.getElementById('startDate').value);
		//PageManager.DataService.setQueryField('endDate', document.getElementById('EndDate').value);
		
		PageManager.DataService.setQueryField('startDate', formatDate7(stdate));
		PageManager.DataService.setQueryField('endDate', formatDate7(edate));
		var fObj = document.getElementById('fund_id');
		var fsObj = document.getElementById('fundSource_id');
		var rCheck=document.getElementById('reversedEntry');
		if(rCheck.checked)
		{
		 PageManager.DataService.setQueryField('forRevEntry',"on")
		}
		if(!rCheck.checked)
		{
		 PageManager.DataService.setQueryField('forRevEntry',"off")
		}
		if(fObj.selectedIndex>-1){
			PageManager.DataService.setQueryField('fund_id', fObj.options[fObj.selectedIndex].value);
		}

		if(fsObj.selectedIndex>-1){
			PageManager.DataService.setQueryField('fundSource_id', fsObj.options[fsObj.selectedIndex].value);
		}

		PageManager.DataService.callDataService('rptGeneralLedgerReport');


		//alert(rptGLCode + '-' + rptAccName + '-' + rptStartDate + '-' + rptEndDate + '-' + detail);
		if(detail != '') detail = '<br><br>' + detail;
		if(rptType == "gl")
			rptTitle = '<font size=3><b>General Ledger</b></font><br>' + rptAccName + '<br>' + rptStartDate + ' to ' + rptEndDate + detail;
		if(rptType == "sl")
			rptTitle = '<font size=3><b>Sub Ledger</b></font><br>' + rptAccName + '<br>' + rptStartDate + ' to ' + rptEndDate + detail;
		if(rptType == "bb")
			rptTitle = '<font size=3><b>Bank Book</b></font><br>' + rptAccName + '<br>' + rptStartDate + ' to ' + rptEndDate + detail;
		if(rptType == "cb")
			rptTitle = '<font size=3><b>Cash Book</b></font><br>' + rptAccName + '<br>' + rptStartDate + ' to ' + rptEndDate + detail;
		document.getElementById('rptHeader').innerHTML = rptTitle;
		detail = '';
		rptTitle='';
	}
	else
		document.forms[0].submit();
}

function changeRptType() {

	hideDetail();
	var rowGLCode = document.getElementById('mainTable').rows[2];
	var rowFund = document.getElementById('mainTable').rows[3];
	var rowBank = document.getElementById('mainTable').rows[4];
	var rowDate = document.getElementById('mainTable').rows[5];
	var rowFundAsDate = document.getElementById('mainTable').rows[6];
	var rowFundSource2 = document.getElementById('mainTable').rows[7];
	var rowEntity = document.getElementById('mainTable').rows[8];
	var rowFY = document.getElementById('mainTable').rows[9];




	rowGLCode.style.display="none";
	rowDate.style.display="none";
	rowFundAsDate.style.display="none";
	rowEntity.style.display="none";
	rowFY.style.display="none";
	rowFund.style.display="none";
	rowBank.style.display="none";

	var trFund = document.getElementById('trFund_id');
	trFund.style.display="none";

	var trFundSource = document.getElementById('trFundSource_id');
	trFundSource.style.display="none";

	var jbFund = document.getElementById('jbFund_id');
	jbFund.style.display="none";

    var jbFundSource = document.getElementById('jbFundSource_id');
	jbFundSource.style.display="none";

	switch (rptType) {

		case "gl":rowGLCode.style.display="block";
		          rowFund.style.display="block";
				  rowDate.style.display="block";
				 break;

	}
}

function openSearch(obj,index){
	 var a = new Array(2);

		var screenName="report";
		var str="";

		if (obj.toLowerCase() == 'relation')
			str = "Search.html?tableNameForCode="+obj;
		else if(obj.toLowerCase() == 'chartofaccounts'){
			if (rptType == "cb"){
				screenName="2";
				str = "Search.html?filterServiceID="+screenName;
			}
			else if(rptType == "bb"){
				//screenName="bankBook";
				screenName="13";
				str = "Search.html?filterServiceID="+screenName;
			}else if(rptType == "sl"){
				str = "Search.html?tableNameForCode=chartofaccounts_controlcodes";
			}else{
				str = "Search.html?screenName="+screenName;
			}
		}
	 var sRtn = showModalDialog(str,"","dialogLeft=300;dialogTop=210;dialogWidth=305pt;dialogHeight=300pt;status=no;");
     if (index==1){
		a = sRtn.split(",");
		var type = document.getElementById('accCode1');
		type.value = a[0];
		rptGLCode = a[0];
		//rptAccName = a[1];
		document.getElementById('chartOfAccounts_id1').value = a[2];
		//getDetailData(a[0]);
	}
	if (index==2){
			a = sRtn.split(",");
			var type = document.getElementById('accCode2');
			type.value = a[0];
			rptGLCode = a[0];
			//rptAccName = a[1];
			document.getElementById('chartOfAccounts_id2').value = a[2];
			//getDetailData(a[0]);
	}

}


function beforeRefreshPage(dc){


PageManager.DataService.removeQueryField('glCode');
	if(dc.values['fundName']!= null)
		rptAccName = "FUND : "+dc.values['fundName'];



}
function afterRefreshPage(dc)
{

	if(dc.values['serviceID']=='getCodeRange')
	{
	 var toCode=dc.values['toGlcode'];
	  document.getElementById('toGlcode').value=toCode;
	  drilldown();
	 }
	if(dc.values['serviceID']=='getCgn')
	{
		var cNumber=dc.values['getCgno'];
		document.getElementById('getCgno').value=cNumber;
		drillIt();
		return;
	}

	if(dc.values['reportCodeFailed']){
		alert(dc.values['reportCodeFailed']);
	}
	PageManager.DataService.removeQueryField('startDate');
	PageManager.DataService.removeQueryField('endDate');
	start=dc.values['startDate'];
	end=dc.values['endDate'];
	
	if(dc.values['startDate'] != null)
	{
	 var frptStartDate=dc.values['startDate'];
	 rptStartDate= formatDateToDDMMYYYY4(frptStartDate);
	 document.getElementById('startDate').value=rptStartDate;
	 }
	if(dc.values['endDate'] != null)
	{
	 var frptEndDate=dc.values['endDate'];
	 rptEndDate=formatDateToDDMMYYYY4(frptEndDate);
	  document.getElementById('endDate').value=rptEndDate;
	 
	 }
	if(glcd || tbGlCode)
	{

	var ulbName='';
	if(dc.values['ULBName'] != null) ulbName='<font size=4><b>' + dc.values['ULBName'];
	rptTitle = '<font size=3><b>General Ledger</b></font><br>' + rptAccName + '<br>' + start + ' to ' + end + detail;
	document.getElementById('rptHeader').innerHTML = rptTitle;
	document.getElementById('rptHeader').innerHTML = ulbName + '</b></font><br>' + document.getElementById('rptHeader').innerHTML;
	}
	else
	{
	var ulbName='';
	if(dc.values['ULBName'] != null) ulbName='<font size=4><b>' + dc.values['ULBName'];
	rptTitle = '<font size=3><b>General Ledger</b></font><br>' + rptAccName + '<br>' + rptStartDate + ' to ' + rptEndDate + detail;
	document.getElementById('rptHeader').innerHTML = rptTitle;
	document.getElementById('rptHeader').innerHTML = ulbName + '</b></font><br>' + document.getElementById('rptHeader').innerHTML;
	}
	var gridData = dc.grids['gridGLDetail'];
	if(gridData!=null) displayGLDetail();
	else{
		gridData = dc.grids['gridBookDetail'];
		if(gridData!=null) displayBookDetail();
	}
	if(gridData != null && gridData.length >= 1){
		var tr12 = document.getElementById('mainTable').rows[14];
		var tr16 = document.getElementById('mainTable').rows[18];
		if(dc.values['opDr'] == ' ' && dc.values['opCr'] == ' ')
			tr12.style.display='none';
		if(dc.values['tDr'] == ' ' && dc.values['tCr'] == ' ')
			tr16.style.display='none';
	}

	changeColor();

}
function changeColor(){
	var table=document.getElementById('gridBookDetail');
	for(var i=1;i<table.rows.length;i++){
		var Obj=PageManager.DataService.getControlInBranch(table.rows[i],"glcode");
		var value=Obj.innerHTML;
		if(value)
		{
		var trObj=PageManager.DataService.getRow(Obj);
		trObj.className='rowhd';
		}
 	}
 	}
function drillIt()
{
		var mode="view";
		var cgn1=document.getElementById('getCgno').value
		var cgn2=cgn1.substring(0,3);
		switch(cgn2){
			case 'JVG':
			window.open("JV_General.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'SJV' :
			window.open("SupplierJournal.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'CJV' :
			window.open("ContractorJournal.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'SAL' :
			window.open("JV_Salary.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'PYS':
			window.open("PayInSlip.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'BTB':
			window.open("JV_Contra_BToB.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'BTC':
			window.open("JV_Contra_BToC.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'CTB':
			window.open("JV_Contra_CToB.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'FTF':
			window.open("JV_Contra_FToF.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'DBP':
			window.open("DirectBankPayment.htm?cgNumber="+cgn1+"&showMode=viewBank","","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'DCP' :
			window.open("DirectCashPayment.htm?cgNumber="+cgn1+"&showMode=viewCash","","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'SPH':
			window.open("SubLedgerPayment.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'SSP' :
			window.open("SubledgerSalaryPayment.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'ASP' :
			window.open("AdvanceJournal.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'MSR':
			window.open("MiscReceipt.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'PRB' :
			case 'PRO' :
			case 'PRF' :
			window.open("PT_Field.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'OTF':
			window.open("OT_Field.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
			case 'OTO':
			window.open("OT_Office.htm?cgNumber="+cgn1+"&showMode="+mode,"","height=650,width=900,scrollbars=yes,left=30,top=30,status=yes");
			break;
		}
}

function clearCombo(obj){
	for(var i=obj.length-1;i>=0;i--)
		obj.remove(i);
}
function displayGLDetail(){
	var rowHeader = document.getElementById('mainTable').rows[13];
	var rowOpBal = document.getElementById('mainTable').rows[14];
	var rowGLDetail = document.getElementById('mainTable').rows[15];
	var rowBookDetail = document.getElementById('mainTable').rows[16];
	var rowClBal = document.getElementById('mainTable').rows[17];
	var rowTotal = document.getElementById('mainTable').rows[18];
	rowHeader.style.display='block';
	rowOpBal.style.display='block';
	rowGLDetail.style.display='block';
	rowBookDetail.style.display='none';
	rowClBal.style.display='block';
	rowTotal.style.display='block';
}
function displayBookDetail(){
	var rowHeader = document.getElementById('mainTable').rows[13];
	var rowOpBal = document.getElementById('mainTable').rows[14];
	var rowGLDetail = document.getElementById('mainTable').rows[15];
	var rowBookDetail = document.getElementById('mainTable').rows[16];
	var rowClBal = document.getElementById('mainTable').rows[17];
	var rowTotal = document.getElementById('mainTable').rows[18];
	rowHeader.style.display='block';
	rowOpBal.style.display='none';
	rowGLDetail.style.display='none';
	rowBookDetail.style.display='block';
	rowClBal.style.display='none';
	rowTotal.style.display='none';
}
function hideDetail(){
	var rowHeader = document.getElementById('mainTable').rows[13];
	var rowOpBal = document.getElementById('mainTable').rows[14];
	var rowGLDetail = document.getElementById('mainTable').rows[15];
	var rowBookDetail = document.getElementById('mainTable').rows[16];
	var rowClBal = document.getElementById('mainTable').rows[17];
	var rowTotal = document.getElementById('mainTable').rows[18];
	rowHeader.style.display='none';
	rowOpBal.style.display='none';
	rowGLDetail.style.display='none';
	rowBookDetail.style.display='none';
	rowClBal.style.display='none';
	rowTotal.style.display='none';
}
function getDetails(obj){

	var row=PageManager.DataService.getRow(obj);
	var table=document.getElementById('gridBookDetail');
	var vouNum=PageManager.DataService.getControlInBranch(table.rows[row.rowIndex],"vouchernumber");
	vouNum=vouNum.innerHTML;
	PageManager.DataService.setQueryField('vouNumber',vouNum);
	PageManager.DataService.callDataService('getCgn');

}


</SCRIPT>
</head>
<body bgcolor="#ffffff" bottommargin="0" topmargin="0" rightmargin="0" leftmargin="0" marginheight="0" marginwidth="0" onload="onBodyLoad()" onKeyDown ="CloseWindow(event); "><!------------------ Header Begins Begins--------------------->
<form name="journalVoucher" action="../JournalBook.jsp">
<input type=hidden id=reportType name=reportType>
<input type=hidden id="getCgno" name="getCgno">
<input type=hidden id="toGlcode" name="toGlcode">

	<table width="100%" border=0 cellpadding="3" cellspacing="0" id="mainTable">
	<!-- row-0 -->
		<tr>
			<td class="rowheader" valign="center" width="100%" colspan="4"><span id="screenName" class="headerwhite2">Books of Accounts</span></td>
		</tr>
	<!-- row-1 -->
		<tr class="row1" >
		<!--	<td width="25%"><div>&nbsp;</div></td>
			<td width="50%" colspan="2" align="middle"><div class="normaltext">Report Type &nbsp;
				<select class="fieldinput" name="reportType" id="reportType" onchange="changeRptType();">
				<OPTION value="tb"  selected>Trial Balance</OPTION>
				<OPTION value="gl">General Ledger</OPTION>
				<OPTION value="jb">Journal Book</OPTION>
				<OPTION value="bb">Bank Book</OPTION>
				<OPTION value="cb">Cash Book</OPTION>
				<OPTION value="sl">SubLedger</OPTION>
				<OPTION value="bv">Budget Variance</OPTION>
				</select></div>
			</td>
			<td width="25%"></td>      -->
   		</tr>
   		<!-- row-2 -->
   		<tr class="row1" style="DISPLAY: none">
					<td><div align="right" valign="center" class="normaltext" >From Account Code</div></td>
					<td>
						<input type="hidden" name="chartOfAccounts_id1" id="chartOfAccounts_id1">
						<input class="fieldinput" name="accCode1" id="accCode1" ><IMG id=IMG1 onclick="openSearch('chartofaccounts',1);" height=22 src="../images/plus1.gif" width=25 align=top border=0>
					</td>
					<td><div align="right" valign="center" class="normaltext" >To Account Code</div></td>
					<td>
						<input type="hidden" name="chartOfAccounts_id2" id="chartOfAccounts_id2">
						<input class="fieldinput" name="accCode2" id="accCode2" ><IMG id=IMG1 onclick="openSearch('chartofaccounts',2);" height=22 src="../images/plus1.gif" width=25 align=top border=0>
					</td>

		</tr>

   		<!-- row-3 -->
		<tr class="row2" style="DISPLAY: none">
			<td><div align="right" valign="center" class="normaltext">Fund&nbsp;<span class="leadon">*</span></div></td>
			<td >
				<SELECT class="fieldinput" id=fund_id name="fund_id" exilListSource="fundNameList" exilMustEnter="true"></SELECT>
			</td>
			<td><div align="right" valign="center" class="normaltext">Show Reversed Entry</div></td>
			<td >
				<input type="checkbox" name="reversedEntry" id="reversedEntry" ></td>
			</td>
		</tr>
	<!-- row-4 -->
		<tr class="row2" style="DISPLAY: none">
		<td><div align="right" valign="center" class="normaltext">Financing Source</div></td>
			<td align="left">
				<SELECT class="fieldinput" id=fundSource_id name="fundSource_id" exilListSource="fundSourceNameList"></SELECT>
			</td>
			<td></td>
			<td></td>

		</tr>

	<!-- row-5 -->

		<tr class="row1" style="DISPLAY: none">
			<td><div align="right" valign="center" class="normaltext">Starting Date</div></td>
			<td align="left">
				<input name="startDate" id="startDate" class="datefieldinput" onkeyup="DateFormat(this,this.value,event,false,'3')" exilDataType="exilPastDate" exilCalendar="true">
			</td>
			<td><div align="right" valign="center" class="normaltext" >End Date</div></td>
			<td>
				<input name="EndDate" id="EndDate" class="datefieldinput" onkeyup="DateFormat(this,this.value,event,false,'3')"  exilDataType="exilPastDate" exilCalendar="true">
			</td>

		</tr>
	<!-- row-6 -->
		<tr class="row1" style="DISPLAY: none">
			<td><div align="right" valign="center" class="normaltext">Fund</div></td>
			<td align="left">
				<SELECT class="fieldinput" id=trFund_id name="trFund_id" style="DISPLAY: block" exilListSource="fundNameList"></SELECT>
			</td>
			<td><div align="right" valign="center" class="normaltext" >As On Date</div></td>
			<td>
				<input name="asOnDate" id="asOnDate" class="datefieldinput" onkeyup="DateFormat(this,this.value,event,false,'3')" exilDataType="exilAnyDate" exilCalendar="true">
			</td>

		</tr>
	<!-- row-7 -->
		<tr class="row2" style="DISPLAY: none">
			<td><div align="right" valign="center" class="normaltext">Financing Source</div></td>
			<td align="left">
				<SELECT class="fieldinput" id=trFundSource_id name="trFundSource_id" style="DISPLAY: block" exilListSource="fundSourceNameList"></SELECT>
			</td>
			<td></td>
			<td></td>

		</tr>
	<!-- row-8 -->
		<tr class="row2" style="DISPLAY: none">
			<td class="normaltext" align=right>Entity Detail</td>
			<td align="left"><input type="hidden" name="accEntityId" id="accEntityId"><select class="fieldinput" name="accEntityList" id="accEntityList"></select></td>
			<td></td>
			<td></td>
		</tr>
	<!-- row-9-->
		<tr class="row1" style="DISPLAY: none">
			<td><div>&nbsp;</div></td>
			<td colspan="2" align="middle"><div class="normaltext">Financial Year
				<select class="fieldinput" name="financialYear_id" id="financialYear_id" exilListSource="financialYearList"></select></div>
			</td>
			<td><div align="right" valign="center" class="normaltext" >&nbsp;</div></td></TD>

		</tr>
	<!-- row-10 -->
		<tr class="row2" style="DISPLAY: none">
			<td><div align="right" valign="center" class="normaltext"></div></td>
			<td align="left">
				<SELECT class="fieldinput" id=jbFund_id name="jbFund_id" style="DISPLAY: none" exilListSource="fundNameList"></SELECT>
			</td>

			<td><div align="right" valign="center" class="normaltext"></div></td>
			<td align="left">
				<SELECT class="fieldinput" id=jbFundSource_id name="jbFundSource_id" style="DISPLAY: none" exilListSource="fundSourceNameList"></SELECT>
			</td>
			<td></td>
			<td></td>

		</tr>
	<!------------------ Detail Table for GL ------------------>
	<!-- row-11 -->
		<tr class="row2">
			<td colspan=4>
			</td>
		</tr><!------------------ Detail Table for GL ------------------>
	<!-- row-12 -->
		<tr class="row2">
			<td colspan="4" align="middle"><!-- Buttons Start Here -->
				<table border="0" cellpadding="0" cellspacing="0">
					<tr>
						<td align="right">
							<IMG height=18 src="../images/Button_leftside.gif" width=7></td>
						<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary onclick=ButtonPress() href="#">Search</A></td>
						<td><IMG height=18 src="../images/Button_rightside.gif" width=7></td>
						
						</tr>
						
				</table><!-- Buttons Ends Here -->
			</td>
		</tr><!------------------ General Ledger Data ------------------><!--
		<tr class="row2">
			<td colspan=4 >
				<table width="80%" align=center border="1" cellpadding="0" cellspacing="0" id="gridDetail" name="gridDetail">
					<tr>
						<td><div id="temp" name="temp">&nbsp;</div></td>
					</tr>
					<tr>
						<td><div id="temp" name="temp">&nbsp;</div></td>
					</tr>
				</table>
			</td>
		</tr>
		-->
	<!-- row-13 -->
		<tr class="row2" style="DISPLAY: none">
			<td colspan=4>
				<table width="100%" align=center border="0" cellpadding="0" cellspacing="0" id='hdrRow' name="hdrRow">
					<tr class="row1" height="25">
          <TD width="95%" ?>
            <DIV class=displaydata id=rptHeader align=center
            name="rptHeader">&nbsp;</DIV></TD></tr>
				</table>
			</td>
		</tr>
	<!-- row-14 -->
        <TR class=row2 style="DISPLAY: none">
          <TD colSpan=4>
				<table width="100%" align=center border="0" cellpadding="0" cellspacing="0"	id=TABLE1 >
					<tr class="row1" height="25">
						<td width="72%" align="left" class="normaltext">Opening Balance</td>
						<td width="14%" align="right"><div class="normaltext" name="opDr" id="opDr">&nbsp;</div></td>
						<td width="14%" align="right"><div class="normaltext" name="opCr" id="opCr">&nbsp;</div></td>
					</tr>
				</table>
		  </TD>
		</TR>
	<!-- row-15 -->
		<tr class="row2" style="DISPLAY: none">
			<td colspan=4>
				<table width="100%" align=center border="1" cellpadding="0" cellspacing="0" id="gridGLDetail" name="gridGLDetail">
					<tr class="rowheader">
						<td width="16%" class="columnheader" align="middle">Voucher No.</td>
						<td width="20%" class="columnheader" align="middle">Voucher Date</td><!--<td width="9%" class="columnheader" align="middle">Acc Code</td>--><!--<td width="33%" class="columnheader" align="middle">Acc Name / Detail</td>-->
						<td width="20%" class="columnheader" align="middle">Narration</td>
						<td width="20%" class="columnheader" align="middle">Transaction</td>
						<td width="12%" class="columnheader" align="middle">Debit</td>
						<td width="12%" class="columnheader" align="middle">Credit</td>
					</tr>

					<tr class="row1">
						<td valign="top"><div class="normaltext" name="vouchernumber" id="vouchernumber"></div>&nbsp;</td>
						<td valign="top"><div class="normaltext" name="voucherdate" id="voucherdate"></div>&nbsp;</td><!--<td valign="top"><div class="normaltext" name="glcode" id="glcode"></div>&nbsp;</td>--><!--<td valign="top"><span class="normaltext" name="name" id="name"></span>&nbsp;</td>-->
						<td valign="top"><div class="normaltext" name="narration" id="narration"></div>&nbsp;</td>
						<td valign="top"><div class="normaltext" name="type" id="type"></div>&nbsp;</td>
						<td valign="top"><div class="normaltext" name="debitamount" id="debitamount" align="right"></div>&nbsp;</td>
						<td valign="top"><div class="normaltext" name="creditamount" id="creditamount" align="right"></div>&nbsp;</td>
					</tr>
				</table>
			</td>
		</tr>
	<!-- row-16 -->
		<tr class="row2">
			<td colspan=4>
				<table width="100%" align=center border="1" cellpadding="0" cellspacing="0" id="gridBookDetail" name="gridBookDetail">

					<tr class="rowheader">

						<td width="10%" class="columnheader" align="middle">GLCode</td>
						<td width="12%" class="columnheader" align="middle">Voucher Date</td><!--<td width="9%" class="columnheader" align="middle">Acc Code</td>-->
						<td width="10%" class="columnheader" align="middle">Voucher No.</td>
						<td width="25%" class="columnheader" align="middle">Particulars</td>
						<td width="11%" class="columnheader" align="middle">&nbsp;</td>
						<td width="10%" class="columnheader" align="middle">Narration</td>
						<td width="14%" class="columnheader" align="middle">Transaction</td>
						<td width="10%" class="columnheader" align="middle">Debit</td>
						<td width="10%" class="columnheader" align="middle">Credit</td>
					</tr>

					<tr class="row1">

						<td valign="top"><div class="normaltext" name="glcode" id="glcode"></div>&nbsp;</td>
						<td valign="top"><div class="normaltext" name="voucherdate" id="voucherdate"></div>&nbsp;</td><!--<td valign="top"><div class="normaltext" name="glcode" id="glcode"></div>&nbsp;</td>-->
						<td valign="top"><A onClick="getDetails(this)" href="#"><div class="normaltext" name="vouchernumber" id="vouchernumber"></div></a>&nbsp;</td>
						<td valign="top" ><span class="normaltext" name="name" id="name">&nbsp;</span> </td>
						<td valign="top" class="hideborder"><div class="normaltext" name="amount" id="amount" align="right"></div><!--<span class="normaltext" name="amount" id="amount" align="right"></span>-->&nbsp;</td>
						<!--<td valign="middle"><div class="normaltext" name="amount" id="amount" align="right"></div><span class="normaltext" name="amount" id="amount" align="right"></span>&nbsp;</td>-->
						<td valign="top"><div class="normaltext" name="narration" id="narration"></div>&nbsp;</td>
						<td valign="top"><div class="normaltext" name="type" id="type"></div>&nbsp;</td>
						<td valign="top"><div class="normaltext" name="debitamount" id="debitamount" align="right"></div>&nbsp; </td>
						<td valign="top"><div class="normaltext" name="creditamount" id="creditamount" align="right"></div>&nbsp; </td>
					</tr>
				</table>
			</td>
		</tr>
	<!-- row-17 -->
		<tr class="row2" style="DISPLAY: none">
			<td colspan=4>
				<table width="100%" align=center border="0" cellpadding="4" cellspacing="0" id=TABLE1>
					<tr class="row2">
						<td width="72%" align="left" class="normaltext">Closing&nbsp;Balance</td>
						<td width="14%" align="right"><div class="normaltext" name="clDr" id="clDr"></div></td>
						<td width="14%" align="right"><div class="normaltext" name="clCr" id="clCr"></div></td>
					</tr>
					<tr class="row2">
						<td colspan=3 width="100%" align="right"><HR width="30%" id=HR1></td>
					</tr>
				</table>
			</td>
		</tr>
	<!-- row-18 -->
		<tr class="row2" style="DISPLAY: none">
			<td colspan=4>
				<table width="100%" align=center border="0" cellpadding="4" cellspacing="0" id=TABLE1>
					<tr class="row1">
						<td width="72%" align="left" class="normaltext">Total</td>
						<td width="14%" align="right"><div class="normaltext" name="tDr" id="tDr"></div></td>
						<td width="14%" align="right"><div class="normaltext" name="tCr" id="tCr"></div></td>
					</tr>
					<tr class="row1">
						<td colspan=3 width="100%" align="right"><HR width="30%" id=HR1></td>
					</tr>
				</table>
			</td>
		</tr>
		<tr class="row2">
			<td colspan="4" align="middle">
		<table border="0" cellpadding="0" cellspacing="0" id="buttons">
		<tr id="backbutton"><td align="center">
				<IMG height=18 src="../images/Button_leftside.gif" width=6></td>
				<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary onclick="back(window.self)"  href="#">Back</A></td>
				<td><IMG height=18 src="../images/Button_rightside.gif" width=6></td>
				<td><IMG src="../images/spacer.gif" width=8></td>
					</tr>
					
			</table>	
			</td>
			</tr>	
			

		<!------------------ General Ledger Data ------------------>
	</table>
</form>
</body>
</html>

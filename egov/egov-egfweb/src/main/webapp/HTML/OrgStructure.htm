#-------------------------------------------------------------------------------
# eGov suite of products aim to improve the internal efficiency,transparency, 
#      accountability and the service delivery of the government  organizations.
#   
#       Copyright (C) <2015>  eGovernments Foundation
#   
#       The updated version of eGov suite of products as by eGovernments Foundation 
#       is available at http://www.egovernments.org
#   
#       This program is free software: you can redistribute it and/or modify
#       it under the terms of the GNU General Public License as published by
#       the Free Software Foundation, either version 3 of the License, or
#       any later version.
#   
#       This program is distributed in the hope that it will be useful,
#       but WITHOUT ANY WARRANTY; without even the implied warranty of
#       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#       GNU General Public License for more details.
#   
#       You should have received a copy of the GNU General Public License
#       along with this program. If not, see http://www.gnu.org/licenses/ or 
#       http://www.gnu.org/licenses/gpl.html .
#   
#       In addition to the terms of the GPL license to be adhered to in using this
#       program, the following additional terms are to be complied with:
#   
#   	1) All versions of this program, verbatim or modified must carry this 
#   	   Legal Notice.
#   
#   	2) Any misrepresentation of the origin of the material is prohibited. It 
#   	   is required that all modified versions of this material be marked in 
#   	   reasonable ways as different from the original version.
#   
#   	3) This license does not grant any rights to any user of the program 
#   	   with regards to rights under trademark law for use of the trade names 
#   	   or trademarks of eGovernments Foundation.
#   
#     In case of any queries, you can reach eGovernments Foundation at contact@egovernments.org.
#-------------------------------------------------------------------------------
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>

<link rel="stylesheet" href="../exility/global.css" type="text/css">


<meta http-equiv="Content-Language" content="en-us">
<meta name="GENERATOR" content="Microsoft FrontPage 6.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
		<link rel="stylesheet" href="../commoncss/egov.css" type="text/css">

<SCRIPT LANGUAGE="javascript" SRC="../exility/PageManager.js"></SCRIPT>
<SCRIPT LANGUAGE="javascript" SRC="../exility/PageValidator.js"></SCRIPT>
<SCRIPT LANGUAGE="javascript" SRC="../script/jsCommonMethods.js"></SCRIPT>
<SCRIPT LANGUAGE="javascript" SRC="../exility/CookieManager.js"></Script>
<SCRIPT LANGUAGE="javascript" SRC="../exility/ExilityParameters.js"></SCRIPT>

<script language="javascript">

function getData(){
		PageManager.DataService.callDataService('orgData');
		window.orgRowIndex=-1;
	}


function getSel(obj){
		var row=PageManager.DataService.getRow(obj);
		var table=document.getElementById('organizationStructure');
		var t=PageManager.DataService.getControlInBranch(table.rows[row.rowIndex].cells[0],"organizationStructure_code");
		window.orgRowIndex = row.rowIndex;
	}


function onClickModify(obj){
		//   ***1 only FO***,  ***2 FO***,  ***Admin, 3 All***    //
		if(!isValidUser(2, CookieManager.getCookie('userRole')) ) return false;

		if(window.orgRowIndex<=0){
			alert(' Select Code ');
			return;
		}

		var table=document.getElementById('organizationStructure');
		var orgCode = PageManager.DataService.getControlInBranch(table.rows[window.orgRowIndex], "organizationStructure_code").innerHTML;
		window.location="OrgStructureAdd.htm?organizationStructure_code="+orgCode;
	}

function onClickNew(){
	//   ***1 only FO***,  ***2 FO***,  ***Admin, 3 All***    //
	if(!isValidUser(2, CookieManager.getCookie('userRole')) ) return false;

	window.location="OrgStructureAdd.htm";
}

function afterRefreshPage(dc)
{
	return true;
}

function beforeRefreshPage(dc){
	var tab = dc.grids['organizationStructure'];
	for(var i=1;i<tab.length;i++){
	if(tab[i][2]=='Zone'){
	 tab[i][2]='City';
	 }
	if(tab[i][2]=='Region'){
	 tab[i][2]='Zone';
	 }
	}
	return true;
}
</script>

<title>Organization Structure</title>

</head>

<body  onLoad="getData();" onKeyDown ="CloseWindow(event);">
<table><tr><td><div id="main"><div id="m2"><div id="m3"> 
<form name="orgStructure">
<input type="hidden" name="organizationStructure_ID" id="organizationStructure_ID" >

			<table width="100%" border="0" cellpadding="0" cellspacing="0">
				<tr>
					<td valign="top" class="normaltext"><!------------Content begins here ------------------>
						<table width="100%" border="0" cellpadding="3" cellspacing="0">
							<TBODY>
								<tr>
									<td class="tableheader" align="left" colspan="4" width="100%">
                                    <span class="">Administrative Hierarchy  - Enquiry</span></td>
								</tr>

				<tr>
					<td align="right" valign="center" class="" ><div align="right"> &nbsp;</div>
					</td>
				</tr>
			</table>

			<table width="100%" border="0" cellpadding="0" cellspacing="0" ID="Table1">
				<tr>
					<td width="100%">
						<table width="74%" border="1" cellpadding="0" cellspacing="0" id="organizationStructure" align="center" height="73">
							<tr class="rowheader">
								<td width="9%" class="thStlyle" align="middle" ><div align="center">
                                   Code</div></td>
                                <td width="30%" class="thStlyle" align="middle"><div align="center">
                                  Name</div></td>
								  <td width="15%" class="thStlyle" align="middle" ><div align="center">
                                  Type</div></td>
                                   <td width="15%" class="thStlyle" align="middle" ><div align="center">
                                 Belongs To </div></td>

                                <td width="5%" class="thStlyle" align="middle" ><div align="center">Select</div></td>
							</tr>
					<tr class="labelcell">
					       <td class=""  align="middle"><div class="fieldinput" align="center" name="organizationStructure_code" maxlength=10 exilDataType="exilAlphaNumeric"></div></td>
			               <td class=""  align="middle" ><div class="fieldinput" align="center" name="organizationStructure_name" maxlength=25 exilDataType="exilAnyChar"></div></td>
						  <td class=""  align="middle" ><div class="fieldinput" align="center" name="organizationStructure_description" maxlength=250 exilDataType="exilAnyChar"></div></td>
						   <td class=""  align="middle" ><div class="fieldinput" align="center" name="organizationStructure_parentName" exilDataType="exilAnyChar"></div></td>

			          <td align="center" height="22"><input type=radio style="width:40px" name="operateOn" onClick="getSel(this);"></td>
					</tr>

					<tr class="labelcell">
						<td class=""  align="middle" ><div class="fieldinput" align="center" name="organizationStructure_code" maxlength=50 exilDataType="exilAlphaNumeric"></div></td>
			               <td class=""  align="middle" ><div class="fieldinput" align="center" name="organizationStructure_name" maxlength=25 exilDataType="exilAnyChar"></div></td>
						   <td class=""  align="middle" ><div class="fieldinput" align="center" name="organizationStructure_description" maxlength=250 exilDataType="exilAnyChar"></div></td>
						   <td class=""  align="middle" ><div class="fieldinput" align="center" name="organizationStructure_parentName" exilDataType="exilAnyChar"></div></td>

					  <td align="center" height="22"><input type=radio style="width:40px" name="operateOn" onClick="getSel(this);"></td>
					</tr>


			</table></td></tr>
			<tr>
				<td height="25" colspan="4" valign="bottom" class="smalltext"><p class="smalltext">&nbsp;</p>
				</td>
			</tr>
			<tr>
				<td colspan="4" align="middle"><!-- Buttons Start Here -->
					<table border="0" cellpadding="0" cellspacing="0" width="223">
						<!--<tr>
							<td align="right" width="8">
                            <IMG height=18 src="../images/Button_second_leftside.gif" width=6></td>
                            <td bgcolor="#fe0000" valign="center" nowrap background="../images/Button_second_middle.gif" width="43"><A class=buttonsecondary  onclick="onClickModify()"  href = "#">Modify</A></td>

							<td width="8">
                            <IMG height=18 src="../images/Button_second_rightside.gif" width=6></td>
							<td width="16">
                            <IMG src="../images/spacer.gif" width=16></td>
							<td align="right" width="8">
                            <IMG height=18 src="../images/Button_second_leftside.gif" width=6></td>
							<td bgcolor="#ffffff" valign="center" nowrap background="../images/Button_second_middle.gif" width="25"><A class=buttonsecondary  href="#" onclick="onClickNew()">New</A></td>
							<td width="8">
                            <IMG height=18 src="../images/Button_second_rightside.gif" width=6></td>
							<td width="8">

                            &nbsp;</td>
							<td align="right" width="9"></td>
							<td align="right" width="8">
                            <IMG height=18 src="../images/Button_second_leftside.gif" width=6></td>
							<td bgcolor="#ffffff" valign="center" nowrap background="../images/Button_second_middle.gif" width="35"><A class=buttonsecondary  onclick=window.close() href="#" >Close</A></td>
							<td width="8">
                            <IMG height=18 src="../images/Button_second_rightside.gif" width=6></td>
							<td width="16">
                            <IMG src="../images/spacer.gif" width=16></td>
						</tr>-->
						<tr>
							<td width=100% align=center>
									<input type="button" class="button" value="Modify" onclick="onClickModify()" />
									<input type="button" class="button"  value="New" onclick="onClickNew()" />
									<input type="button" class="button" value="Close" onclick="window.close()" />
							</td>
						</tr>

					</table><!-- Buttons End Here -->
				</td>
			</tr></table></form></TD></TR></TBODY>
</table>
</form>
</div></div></div></td></tr></table>
</body>

#-------------------------------------------------------------------------------
# eGov suite of products aim to improve the internal efficiency,transparency, 
#      accountability and the service delivery of the government  organizations.
#   
#       Copyright (C) <2015>  eGovernments Foundation
#   
#       The updated version of eGov suite of products as by eGovernments Foundation 
#       is available at http://www.egovernments.org
#   
#       This program is free software: you can redistribute it and/or modify
#       it under the terms of the GNU General Public License as published by
#       the Free Software Foundation, either version 3 of the License, or
#       any later version.
#   
#       This program is distributed in the hope that it will be useful,
#       but WITHOUT ANY WARRANTY; without even the implied warranty of
#       MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#       GNU General Public License for more details.
#   
#       You should have received a copy of the GNU General Public License
#       along with this program. If not, see http://www.gnu.org/licenses/ or 
#       http://www.gnu.org/licenses/gpl.html .
#   
#       In addition to the terms of the GPL license to be adhered to in using this
#       program, the following additional terms are to be complied with:
#   
#   	1) All versions of this program, verbatim or modified must carry this 
#   	   Legal Notice.
#   
#   	2) Any misrepresentation of the origin of the material is prohibited. It 
#   	   is required that all modified versions of this material be marked in 
#   	   reasonable ways as different from the original version.
#   
#   	3) This license does not grant any rights to any user of the program 
#   	   with regards to rights under trademark law for use of the trade names 
#   	   or trademarks of eGovernments Foundation.
#   
#     In case of any queries, you can reach eGovernments Foundation at contact@egovernments.org.
#-------------------------------------------------------------------------------
<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>

<script language="javascript">

var boundaryExist=false;
var mode0,mode1;

function getData(){
	document.getElementById('mode').focus();
	clearCombo("cashInHandId");
	clearCombo("ChequeInHandId");
	PageValidator.addCalendars();
	var objCash=document.getElementById('cashInHandId');
	var objCheque=document.getElementById('ChequeInHandId');
	PageManager.ListService.callListService();
	objCash.setAttribute("exilListSource","CashInHandList");
	PageManager.DataService.callDataService('CashInHandList');
	objCheque.setAttribute("exilListSource","ChequeInHandList");
	PageManager.DataService.callDataService('ChequeInHandList');
	document.getElementById('trModify').style.display="none"
	//document.getElementById('trModifyBack').style.display="block"
	var cancelled=PageManager.DataService.getQueryField('cancelled');

btnrow0 = document.getElementById('buttonTable').rows[0];
btnrow1 = document.getElementById('buttonTable').rows[1];
if(cancelled==1){
		btnrow0.style.display = 'none';
		btnrow1.style.display = 'block';}
else
	{
			btnrow0.style.display = 'block';
			btnrow1.style.display = 'none';
	}

}

  function getAdminBoundaryType(obj){

	clearCombo("AdminBoundaryId");
	var val=obj.options[obj.selectedIndex].value;
	var AdminObj=document.getElementById('AdminBoundaryId');
	AdminObj.setAttribute('exilListSource',"AdminBoundaryIds");

	PageManager.DataService.setQueryField("adminLevel_ID",val);
    PageManager.DataService.callDataService('BoundaryLevel');

   }

   function ButtonPress(name){
	var action='';
		 if(boundaryExist==true)
			{
				 alert("Cash In Hand /cheque In Hand Codes are already set ");
				return;
			 }
		document.getElementById('egUser_id').value = CookieManager.getCookie('currentUserId');
		if(!isValidUser(2, CookieManager.getCookie('userRole')) ) return false;
		if(document.CashChequeInHandAdd.mode[0].checked){
			action="Add";
			}
		else if(document.CashChequeInHandAdd.mode[1].checked){
			action="Modify";
		   }
	   PageManager.UpdateService.submitForm('cashChequeInHandInsertion');

	}
	 function clearCombo(cId)
		 {
		 	var bCtrl=document.getElementById(cId);
			for(var i=bCtrl.options.length-1;i>=0;i--)
			{
				bCtrl.remove(i);
			}
		 }
		 function onClose() {
		 window.close();
		 }
 function checkExistanceId(obj){

		boundaryExist=false;
		var val=obj.options[obj.selectedIndex].value;
		if(document.CashChequeInHandAdd.mode[0].checked){
			PageManager.DataService.setQueryField("boundaryLevel_ID",val);
			PageManager.DataService.callDataService('BoundaryLevelExistance');

		}
		else if(document.CashChequeInHandAdd.mode[1].checked){
				PageManager.DataService.setQueryField("boundaryLevelId",val);
				PageManager.DataService.callDataService('CashChequeIdExistance');


			}
	}
function beforeRefreshPage(dc){

	if(document.CashChequeInHandAdd.mode[0].checked){
		if(dc.values['serviceID'] == 'BoundaryLevelExistance')
			{

				if(dc.values['IDCOUNT'] > '0')
				{
					alert("For this boundary Level Values are already Set");
					boundaryExist=true;
				}
			}
		}
	if(dc.values['serviceID'] != 'BoundaryLevel')
	{
		mode0=PageManager.DataService.getQueryField('mode0');
		mode1=PageManager.DataService.getQueryField('mode1');
		if(mode0=='true')
				document.CashChequeInHandAdd.mode[0].checked = true;
		else if(mode0=='false')
				document.CashChequeInHandAdd.mode[0].checked = false;
		if(mode1=='true')
			document.CashChequeInHandAdd.mode[1].checked = true;
		else if(mode1=='false')
			document.CashChequeInHandAdd.mode[1].checked = false;
		if(mode0=='true' || mode1=='true')	onClickRadio();

	}

 }

 function afterRefreshPage(dc){
 	if(mode0=='true')
 				document.CashChequeInHandAdd.mode[0].checked = true;
	 else if(mode0=='false')
 				document.CashChequeInHandAdd.mode[0].checked = false;
 	if(mode1=='true')
 			document.CashChequeInHandAdd.mode[1].checked = true;
 	else if(mode1=='false')
			document.CashChequeInHandAdd.mode[1].checked = false;

 }

 function onClickRadio(){
	row3 = document.getElementById('setupTable').rows[3];
	row5 = document.getElementById('setupTable').rows[5];
	if(document.CashChequeInHandAdd.mode[0].checked){
		var cteateobj=document.getElementById('modifyLbl').style.display='none';
		document.getElementById('screenName').innerHTML="Create Setup";
		document.getElementById('modeOfExec').value="Add";
		document.CashChequeInHandAdd.mode[1].style.display='none';

		}
	else if(document.CashChequeInHandAdd.mode[1].checked){
		var cteateobj=document.getElementById('createLbl').style.display='none';
		document.CashChequeInHandAdd.mode[0].style.display='none';
		document.getElementById('screenName').innerHTML="Modify Setup";
		document.getElementById('modeOfExec').value="Modify";
	}
	row3.style.display = 'block';
	row5.style.display = 'block';
	btnrow0 = document.getElementById('buttonTable').rows[0];
	btnrow1 = document.getElementById('buttonTable').rows[1];
	btnrow0.style.display = 'none';
	btnrow1.style.display = 'block';
 }

function afterUpdateService(dc){
		window.location="setupCashCheckInHand.htm";
		return true;
}
function onClickCancel(){
	mode0=document.CashChequeInHandAdd.mode[0].checked;
	mode1=document.CashChequeInHandAdd.mode[1].checked;
	window.location="setupCashCheckInHand.htm?mode0="+mode0+"&mode1="+mode1+"&cancelled=1";
}

</script>
<title>SetupCash/Cheque</title>
</head>
<body bgcolor="#ffffff" bottommargin="0" topmargin="0" rightmargin="0" leftmargin="0" marginheight="0" marginwidth="0" onLoad="getData();" onKeyDown ="CloseWindow(event);">
<form name="CashChequeInHandAdd">
	<input type="hidden" name="egUser_id" id="egUser_id">
	<input type="hidden" name="modeOfExec" id="modeOfExec" value="new">

<table width="100%" height="74%" border="0" cellpadding="0" cellspacing="0">
	  </table>
	<table width="100%" border=0 cellpadding="6" cellspacing="0">
			<tr>
			<td valign="top" class="normaltext"><!------------Content begins here ------------------>
						<table width="102.3%" border=0 cellpadding="3" cellspacing="0" id="setupTable" name="setupTable" >
        <TBODY>
							<tr>
								<td  colspan="6" width="898"><span id="screenName" class="">Setup Cash/Cheque in Hand</span></td>
							</tr>
							<tr>
									<td width="15%" align="right" valign="center" class="labelcell" >&nbsp;</td>
									<td width="15%" class="labelcell" id="createLbl" align=right >Create Setup </td>
									<td align="left" class="" width="16%"><input type="radio" name="mode" id="mode" onClick="onClickRadio()" ></td>
									<td width="16%"class="labelcell" id="modifyLbl" align=right > Modify Setup</td>
									<td align="left" valign="center" class="normaltext" width="13%"><input type="radio" name="mode" id="mode0" onClick="onClickRadio()" value="1" ></td>
									<td width="24%"  >
                    					&nbsp;</td><td width="24%"  >
                    					&nbsp;</td>
							</tr>


							<tr>

									<td width="15%" >&nbsp;</td>
									<td width="15%" >&nbsp;</td><td width="15%" >&nbsp;</td><td width="15%" >&nbsp;</td>
									<td width="15%" >&nbsp;</td><td width="15%" >&nbsp;</td>
							</tr>

							<tr  style="DISPLAY: none">
								<td width="15%" height="29" id="AdminLevelCombo"><div align="right" valign="center" class="labelcell" >  <span class="leadon"><FONT
									            color=#00438c>Admin Level</FONT>*</span></div></td>
								<td width="15%" height="29" >
								<span class="smallfieldcell"><select class="fieldinput" name="AdminLevelId" id="AdminLevelId" onChange="getAdminBoundaryType(this);" exilMustEnter="true" exilListSource="BoundaryType" >
								</select></span>
								</td>
								<td width="15%" >&nbsp;</td>
								<td width="15%" >&nbsp;</td>
								<td width="15%" >&nbsp;</td><td width="15%" >&nbsp;</td>

							</tr>

							<tr>
									<td width="15%" align="right" valign="center" class="normaltext" >&nbsp;</td>
									<td width="15%" >&nbsp;</td>	<td align="right" class="normaltext" width="16%" >&nbsp;</td>
									<td width="16%"  >&nbsp;</td>
									<td align="right" valign="center" class="normaltext" width="13%">&nbsp;</td>
									<td width="24%" >&nbsp;</td>
							</tr>

							<tr  style="DISPLAY: none">
									<td width="15%" align="right" valign="center" class="labelcell" >Admin Boundary<span class="leadon">*<span></span></span></td>
								<td width="15%" >
									<span class="smallfieldcell"><select class="fieldinput" name="AdminBoundaryId" id="AdminBoundaryId" onChange="checkExistanceId(this);"
										 exilMustEnter="true"></span>
										 <option selected>choose AdminLevel</option>
									</select>
								</td>
									<td align="right" class="labelcell" width="16%" >Cash In Hand<SPAN class=leadon>*</SPAN></td>
									<td width="16%"  >
                    					<span class="smallfieldcell"><SELECT  class="fieldinput" id="cashInHandId" name="cashInHandId"  exilMustEnter="true" >
           								</SELECT></span>&nbsp;
									</td>
									<td align="right" valign="center" class="labelcell" width="13%">Cheque In Hand<SPAN class=leadon>*</SPAN></td>
									<td width="24%"  >
                    					<span class="smallfieldcell"><SELECT  class="fieldinput" id="ChequeInHandId" name="ChequeInHandId"  exilMustEnter="true" >
           								</SELECT></span>&nbsp;
									</td>
							</tr>

							<tr class="row6">
								<td colspan="6" align="middle" width="898">&nbsp;</td>
							</tr>

							<tr class="row7">
								<td colspan="6" align="middle" width="898"><!-- Buttons Start Here -->
									<table border="0" cellpadding="0" cellspacing="0" id="buttonTable" name="buttonTable">
										<!--<tr name="trModify" id="trModify">
											<td align="right"><IMG height=18 src="../images/Button_leftside.gif" width=7></td>
											<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary id=submitButton onclick=ButtonPress('savenew'); href="#">Submit</A></td>
											<td><IMG height=18 src="../images/Button_rightside.gif" width=7></td>
											<td><IMG src="../images/spacer.gif" width=8></td>
											<td><IMG src="../images/spacer.gif" width=8></td>
											<td align="right"><IMG height=18 src="../images/Button_second_leftside.gif" width=6></td>
											<td bgcolor="#ffffff" valign="center" nowrap background="../images/Button_second_middle.gif"><A class=buttonsecondary onclick=onClickCancel() href="#">Cancel</A></td>
											<td><IMG height=18 src="../images/Button_second_rightside.gif" width=6></td>
											<td><IMG src="../images/spacer.gif" width=8></td>
											<td><IMG src="../images/spacer.gif" width=8></td>
											<td align="right"><IMG height=18 src="../images/Button_second_leftside.gif" width=6></td>
											<td bgcolor="#ffffff" valign="center" nowrap background="../images/Button_second_middle.gif"><A class=buttonsecondary onclick=window.close() href="#">Close</A></td>
											<td><IMG height=18 src="../images/Button_second_rightside.gif" width=6></td>

							</tr>-->
							
							<tr name="trModify" id="trModify">
							<td align=center colspan=6>
									<input type="button" class="button"  value="Submit" onclick="ButtonPress('savenew')" />
									<input type="button" class="button" value="Cancel" onclick="onClickCancel()" />
									<input type="button" class="button" value="Close" onclick="window.close()" />
							</td>
						</tr>

							<!--<tr name="trModify" id="trModifyBack">
																		<td align="right"><IMG height=18 src="../images/Button_leftside.gif" width=7></td>
																		<td bgcolor="#fe0000" valign="center" nowrap><A class=buttonprimary id=submitButton onclick=ButtonPress('savenew'); href="#">Submit</A></td>
																		<td><IMG height=18 src="../images/Button_rightside.gif" width=7></td>
																		<td><IMG src="../images/spacer.gif" width=8></td>
																		<td><IMG src="../images/spacer.gif" width=8></td>
																		<td align="right"><IMG height=18 src="../images/Button_second_leftside.gif" width=6></td>
																		<td bgcolor="#ffffff" valign="center" nowrap background="../images/Button_second_middle.gif"><A class=buttonsecondary onclick=onClickCancel() href="#">Cancel</A></td>
																		<td><IMG height=18 src="../images/Button_second_rightside.gif" width=6></td>
																		<td><IMG src="../images/spacer.gif" width=8></td>
																		<td><IMG src="../images/spacer.gif" width=8></td>
																		<td align="right"><IMG height=18 src="../images/Button_second_leftside.gif" width=6></td>
																		<td bgcolor="#ffffff" valign="center" nowrap background="../images/Button_second_middle.gif"><A class=buttonsecondary onclick="" href="setupCashCheckInHand.htm">Back</A></td>
																		<td><IMG height=18 src="../images/Button_second_rightside.gif" width=6></td>
																		<td><IMG src="../images/spacer.gif" width=8></td>
																		<td align="right"><IMG height=18 src="../images/Button_second_leftside.gif" width=6></td>
																		<td bgcolor="#ffffff" valign="center" nowrap background="../images/Button_second_middle.gif"><A class=buttonsecondary onclick=window.close() href="#">Close</A></td>
																		<td><IMG height=18 src="../images/Button_second_rightside.gif" width=6></td>

							</tr>-->
							<tr name="trModify" id="trModifyBack">
									<td width=100% align=center>
											<input type="button" class="button"  value="Submit" onclick="ButtonPress('savenew');" />
											<input type="button" class="button" value="Cancel" onclick="onClickCancel();" />
											<input type="button" class="button" value="Back" onclick=window.location="setupCashCheckInHand.htm" />
 											<input type="button" class="button" value="Close" onclick="window.close()" />
									</td>
							</tr>



						</table><!-- Buttons End Here -->
					</td>
				</tr></TBODY>
			</table></td></tr></table></TD></TR></TABLE><!------------ Content ends here ------------------></TD></TR></TABLE></TD><!------------Right Navigation Ends here------------------></TR></TABLE><!---------------- Footer begins here ----------><!---------------- Footer ends here ---------->
</form>
</body>
</html>
